{"ast":null,"code":"import axios from 'axios';\nimport { USER_LOGIN_SUCCESS, USER_NOT_FOUND, LOGIN_SYSTEM_ERROR, LOGIN_LOADING, LOGOUT, REGISTER_LOADING, COOKIE_CHECKED, HARUS_DIISI, USERNAME_TIDAK_TERSEDIA } from './types';\nexport var onUserLogout = function onUserLogout() {\n  return {\n    type: LOGOUT\n  };\n};\nexport var keepLogin = function keepLogin(username) {\n  return function (dispatch) {\n    axios.get('http://localhost:2000/keeplogin', {\n      params: {\n        username: username\n      }\n    }).then(function (res) {\n      if (res.data.length > 0) {\n        dispatch({\n          type: USER_LOGIN_SUCCESS,\n          payload: username\n        });\n      }\n    });\n  };\n};\nexport var cookieChecked = function cookieChecked() {\n  return {\n    type: COOKIE_CHECKED\n  };\n};\nexport var onUserLogin = function onUserLogin(_ref) {\n  var username = _ref.username,\n      password = _ref.password;\n  return function (dispatch) {\n    if (username == '' || password == '') {\n      return dispatch({\n        type: HARUS_DIISI\n      });\n    }\n\n    dispatch({\n      type: LOGIN_LOADING\n    });\n    axios.post('http://localhost:2000/login', {\n      username: username,\n      password: password\n    }).then(function (res) {\n      console.log(res);\n\n      if (res.data.length > 0) {\n        dispatch({\n          type: USER_LOGIN_SUCCESS,\n          payload: username\n        });\n      } else {\n        dispatch({\n          type: USER_NOT_FOUND\n        });\n      }\n    }).catch(function (err) {\n      console.log(err);\n      dispatch({\n        type: LOGIN_SYSTEM_ERROR\n      });\n    });\n  };\n};\nexport var onUserRegister = function onUserRegister(_ref2) {\n  var username = _ref2.username,\n      email = _ref2.email,\n      phone = _ref2.phone,\n      password = _ref2.password;\n  return function (dispatch) {\n    dispatch({\n      type: REGISTER_LOADING\n    });\n\n    if (username === '' || password == '' || phone == '' || email == '') {\n      dispatch({\n        type: HARUS_DIISI\n      });\n    } else {\n      axios.get('http://localhost:2000/usercheck', {\n        params: {\n          username: username\n        }\n      }).then(function (res) {\n        if (res.data.length === 0) {\n          axios.post('http://localhost:2000/register', {\n            username: username,\n            email: email,\n            password: password,\n            phone: phone\n          }).then(function (res) {\n            console.log(res);\n            dispatch({\n              type: USER_LOGIN_SUCCESS,\n              payload: username\n            });\n          }).catch(function (err) {\n            console.log(err);\n            dispatch({\n              type: LOGIN_SYSTEM_ERROR\n            });\n          });\n        } else {\n          dispatch({\n            type: USERNAME_TIDAK_TERSEDIA\n          });\n        }\n      }).catch(function (err) {\n        dispatch({\n          type: LOGIN_SYSTEM_ERROR\n        });\n      });\n    }\n  };\n};","map":{"version":3,"sources":["/home/fikar/Documents/warehousenesia/frontend/src/actions/index.js"],"names":["axios","USER_LOGIN_SUCCESS","USER_NOT_FOUND","LOGIN_SYSTEM_ERROR","LOGIN_LOADING","LOGOUT","REGISTER_LOADING","COOKIE_CHECKED","HARUS_DIISI","USERNAME_TIDAK_TERSEDIA","onUserLogout","type","keepLogin","username","dispatch","get","params","then","res","data","length","payload","cookieChecked","onUserLogin","password","post","console","log","catch","err","onUserRegister","email","phone"],"mappings":"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","sourcesContent":["import axios from 'axios';\nimport {\n    USER_LOGIN_SUCCESS, \n    USER_NOT_FOUND, \n    LOGIN_SYSTEM_ERROR,\n    LOGIN_LOADING, LOGOUT,\n    REGISTER_LOADING,\n    COOKIE_CHECKED,\n    HARUS_DIISI,\n    USERNAME_TIDAK_TERSEDIA\n} from './types';\nexport const onUserLogout=()=>{\n    return{type: LOGOUT }\n}\nexport const keepLogin =(username)=>{\n    return(dispatch)=> {\n        axios.get('http://localhost:2000/keeplogin',{\n            params:{\n                username\n            }\n        }).then((res)=>{\n            if(res.data.length > 0 ){\n                dispatch({\n                    type: USER_LOGIN_SUCCESS, payload: username\n                })\n            }\n        })\n    }\n}\nexport const cookieChecked =()=>{\n    return{type: COOKIE_CHECKED }\n}\nexport const onUserLogin = ({username, password}) =>{\n    return(dispatch)=>{\n        if(username == '' || password == ''){\n            return dispatch({type : HARUS_DIISI})\n        }\n        dispatch({type: LOGIN_LOADING})\n        axios.post('http://localhost:2000/login', {\n            username,\n            password\n        }).then((res)=> {\n            console.log(res)\n            if(res.data.length>0){\n                dispatch({type: USER_LOGIN_SUCCESS, payload: username})\n            }else{\n                dispatch({type: USER_NOT_FOUND})\n            }\n        }).catch((err)=>{\n            console.log(err)\n            dispatch({type: LOGIN_SYSTEM_ERROR})\n        }) \n    }\n}\nexport const onUserRegister = ({username,email,phone, password})=>{\n    return (dispatch)=>{\n        dispatch({type: REGISTER_LOADING})\n        if(username ==='' || password == '' || phone == ''||email==''){\n            dispatch({type: HARUS_DIISI})\n        }else{\n            axios.get('http://localhost:2000/usercheck',{\n                params:{\n                    username\n                }\n            }).then((res)=>{\n                if(res.data.length === 0 ){\n                    axios.post('http://localhost:2000/register', {\n                    username, email, password, phone\n                    }).then((res)=>{\n                        console.log(res)\n                        dispatch({type: USER_LOGIN_SUCCESS, payload: username})\n                    }).catch((err)=>{\n                        console.log(err);\n                        dispatch({type: LOGIN_SYSTEM_ERROR})\n                    })\n                }else{\n                    dispatch({type: USERNAME_TIDAK_TERSEDIA})\n                }\n            }).catch((err)=>{\n                dispatch({type: LOGIN_SYSTEM_ERROR})\n            })\n            \n        }\n        \n    }\n}"]},"metadata":{},"sourceType":"module"}
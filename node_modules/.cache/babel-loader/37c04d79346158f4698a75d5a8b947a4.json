{"ast":null,"code":"import _classCallCheck from \"/home/fikar/Documents/front-end-khallid-project-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/fikar/Documents/front-end-khallid-project-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/fikar/Documents/front-end-khallid-project-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/fikar/Documents/front-end-khallid-project-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/fikar/Documents/front-end-khallid-project-master/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/fikar/Documents/front-end-khallid-project-master/src/component/screen/login.js\";\nimport React, { Component } from 'react';\nimport { Button, Form, Input } from 'reactstrap';\nimport { Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { onUserLogin } from '../../actions';\nimport Cookies from \"universal-cookie\";\nvar cookies = new Cookies();\n\nvar Login =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Login, _Component);\n\n  function Login() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Login);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Login)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.onBtnLoginClick = function () {\n      var username = _this.refs.username.refs.tbusername.value;\n      var password = _this.refs.password.refs.tbpassword.value;\n\n      _this.props.onUserLogin({\n        username: username,\n        password: password\n      });\n    };\n\n    _this.renderError = function () {\n      if (_this.props.loading == false) {\n        if (_this.props.error.length > 0) {\n          return React.createElement(\"p\", {\n            className: \"alert alert-danger\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 24\n            },\n            __self: this\n          }, _this.props.error);\n        }\n      }\n    };\n\n    _this.renderButton = function () {\n      if (_this.props.loading) {\n        return React.createElement(\"h3\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 31\n          },\n          __self: this\n        }, \"Loading...\");\n      }\n\n      return React.createElement(Button, {\n        onClick: _this.onBtnLoginClick,\n        type: \"submit\",\n        class: \"form-submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 33\n        },\n        __self: this\n      }, \"Log in\");\n    };\n\n    return _this;\n  }\n\n  _createClass(Login, [{\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(newProps) {\n      if (newProps.username !== \"\") {\n        cookies.set('dataUser', newProps.username, {\n          path: '/'\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.props.username === '') {\n        return React.createElement(\"div\", {\n          className: \"main\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"container\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"row\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"col-md-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 43\n          },\n          __self: this\n        }), React.createElement(\"div\", {\n          className: \"col-md-6\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 46\n          },\n          __self: this\n        }, React.createElement(\"h2\", {\n          className: \"form-title\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 47\n          },\n          __self: this\n        }, \"Sign in\"), React.createElement(Form, {\n          className: \"register-form\",\n          id: \"login-form\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 48\n          },\n          __self: this\n        }, React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 49\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          htmlFor: \"your_name\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 50\n          },\n          __self: this\n        }), React.createElement(Input, {\n          type: \"text\",\n          ref: \"username\",\n          innerRef: \"tbusername\",\n          placeholder: \"username\",\n          className: \"form-control\",\n          id: \"usr\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 51\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 53\n          },\n          __self: this\n        }, React.createElement(\"label\", {\n          htmlFor: \"your_pass\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 54\n          },\n          __self: this\n        }), React.createElement(Input, {\n          type: \"password\",\n          ref: \"password\",\n          innerRef: \"tbpassword\",\n          placeholder: \"your password\",\n          className: \"form-control\",\n          id: \"pwd\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 55\n          },\n          __self: this\n        })), React.createElement(\"div\", {\n          className: \"form-group\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 57\n          },\n          __self: this\n        }, React.createElement(Input, {\n          type: \"checkbox\",\n          name: \"remember-me\",\n          id: \"remember-me\",\n          className: \"agree-term\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 58\n          },\n          __self: this\n        }), React.createElement(\"label\", {\n          htmlFor: \"remember-me\",\n          className: \"label-agree-term\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        }, React.createElement(\"span\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 59\n          },\n          __self: this\n        })), \"Remember me\")), React.createElement(\"div\", {\n          className: \"form-group form-button\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 61\n          },\n          __self: this\n        }, this.renderError())), this.renderButton()))));\n      }\n\n      return React.createElement(Redirect, {\n        to: \"/homes\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      });\n    }\n  }]);\n\n  return Login;\n}(Component);\n\nvar mapStateToProps = function mapStateToProps(state) {\n  return {\n    username: state.auth.username,\n    error: state.auth.error,\n    loading: state.auth.loading\n  };\n};\n\nexport default connect(mapStateToProps, {\n  onUserLogin: onUserLogin\n})(Login);","map":{"version":3,"sources":["/home/fikar/Documents/front-end-khallid-project-master/src/component/screen/login.js"],"names":["React","Component","Button","Form","Input","Redirect","connect","onUserLogin","Cookies","cookies","Login","onBtnLoginClick","username","refs","tbusername","value","password","tbpassword","props","renderError","loading","error","length","renderButton","newProps","set","path","mapStateToProps","state","auth"],"mappings":";;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAASC,MAAT,EAAiBC,IAAjB,EAAuBC,KAAvB,QAAmC,YAAnC;AACA,SAAQC,QAAR,QAAuB,kBAAvB;AACA,SAAQC,OAAR,QAAsB,aAAtB;AACA,SAAQC,WAAR,QAA0B,eAA1B;AACA,OAAOC,OAAP,MAAoB,kBAApB;AAEA,IAAMC,OAAO,GAAG,IAAID,OAAJ,EAAhB;;IACME,K;;;;;;;;;;;;;;;;;;UAOFC,e,GAAiB,YAAI;AACjB,UAAIC,QAAQ,GAAE,MAAKC,IAAL,CAAUD,QAAV,CAAmBC,IAAnB,CAAwBC,UAAxB,CAAmCC,KAAjD;AACA,UAAIC,QAAQ,GAAE,MAAKH,IAAL,CAAUG,QAAV,CAAmBH,IAAnB,CAAwBI,UAAxB,CAAmCF,KAAjD;;AACA,YAAKG,KAAL,CAAWX,WAAX,CAAuB;AAACK,QAAAA,QAAQ,EAARA,QAAD;AAAWI,QAAAA,QAAQ,EAARA;AAAX,OAAvB;AACH,K;;UACDG,W,GAAY,YAAI;AACd,UAAG,MAAKD,KAAL,CAAWE,OAAX,IAAsB,KAAzB,EAA+B;AAC7B,YAAG,MAAKF,KAAL,CAAWG,KAAX,CAAiBC,MAAjB,GAAwB,CAA3B,EAA6B;AAC3B,iBAAO;AAAG,YAAA,SAAS,EAAC,oBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAAmC,MAAKJ,KAAL,CAAWG,KAA9C,CAAP;AACH;AACA;AAEF,K;;UACDE,Y,GAAa,YAAI;AACb,UAAG,MAAKL,KAAL,CAAWE,OAAd,EAAsB;AAClB,eAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAAP;AACH;;AACD,aAAO,oBAAC,MAAD;AAAS,QAAA,OAAO,EAAE,MAAKT,eAAvB;AAAwC,QAAA,IAAI,EAAC,QAA7C;AAAsD,QAAA,KAAK,EAAC,aAA5D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAAP;AAEH,K;;;;;;;8CAxByBa,Q,EAAS;AAC/B,UAAGA,QAAQ,CAACZ,QAAT,KAAoB,EAAvB,EAA0B;AACtBH,QAAAA,OAAO,CAACgB,GAAR,CAAY,UAAZ,EAAuBD,QAAQ,CAACZ,QAAhC,EAAyC;AAACc,UAAAA,IAAI,EAAE;AAAP,SAAzC;AACH;AACF;;;6BAsBK;AACJ,UAAG,KAAKR,KAAL,CAAWN,QAAX,KAAsB,EAAzB,EAA4B;AAC5B,eACI;AAAK,UAAA,SAAS,EAAC,MAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAK,UAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAK,UAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADA,EAII;AAAK,UAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAI,UAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBADA,EAEQ,oBAAC,IAAD;AAAO,UAAA,SAAS,EAAC,eAAjB;AAAiC,UAAA,EAAE,EAAC,YAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACA;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAO,UAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAEI,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC,MAAZ;AAAmB,UAAA,GAAG,EAAC,UAAvB;AAAkC,UAAA,QAAQ,EAAC,YAA3C;AAAwD,UAAA,WAAW,EAAC,UAApE;AAA+E,UAAA,SAAS,EAAC,cAAzF;AAAwG,UAAA,EAAE,EAAC,KAA3G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,CADA,EAKA;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI;AAAO,UAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAEI,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC,UAAZ;AAAuB,UAAA,GAAG,EAAC,UAA3B;AAAsC,UAAA,QAAQ,EAAC,YAA/C;AAA4D,UAAA,WAAW,EAAC,eAAxE;AAAwF,UAAA,SAAS,EAAC,cAAlG;AAAiH,UAAA,EAAE,EAAC,KAApH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAFJ,CALA,EASA;AAAK,UAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACI,oBAAC,KAAD;AAAO,UAAA,IAAI,EAAC,UAAZ;AAAuB,UAAA,IAAI,EAAC,aAA5B;AAA0C,UAAA,EAAE,EAAC,aAA7C;AAA2D,UAAA,SAAS,EAAC,YAArE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UADJ,EAEI;AAAO,UAAA,OAAO,EAAC,aAAf;AAA6B,UAAA,SAAS,EAAC,kBAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA0D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAM;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAN,CAA1D,gBAFJ,CATA,EAaA;AAAK,UAAA,SAAS,EAAC,wBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACS,KAAKO,WAAL,EADT,CAbA,CAFR,EAoBS,KAAKI,YAAL,EApBT,CAJJ,CADJ,CADA,CADJ;AAiCH;;AACD,aAAO,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAC,QAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAAP;AACD;;;;EAjEiBtB,S;;AAmEpB,IAAM0B,eAAe,GAAE,SAAjBA,eAAiB,CAACC,KAAD,EAAS;AAC5B,SAAO;AACHhB,IAAAA,QAAQ,EAAEgB,KAAK,CAACC,IAAN,CAAWjB,QADlB;AAEHS,IAAAA,KAAK,EAAEO,KAAK,CAACC,IAAN,CAAWR,KAFf;AAGHD,IAAAA,OAAO,EAAEQ,KAAK,CAACC,IAAN,CAAWT;AAHjB,GAAP;AAMH,CAPD;;AAQA,eAAed,OAAO,CAACqB,eAAD,EAAiB;AAACpB,EAAAA,WAAW,EAAXA;AAAD,CAAjB,CAAP,CAAuCG,KAAvC,CAAf","sourcesContent":["import React, {Component} from 'react';\nimport { Button, Form, Input} from 'reactstrap';\nimport {Redirect} from 'react-router-dom'\nimport {connect} from 'react-redux';\nimport {onUserLogin} from '../../actions';\nimport Cookies from \"universal-cookie\";\n\nconst cookies = new Cookies();\nclass Login extends Component{\n\n    componentWillReceiveProps(newProps){\n        if(newProps.username!==\"\"){\n            cookies.set('dataUser',newProps.username,{path: '/'})\n        }\n      }\n    onBtnLoginClick= ()=>{\n        var username= this.refs.username.refs.tbusername.value;\n        var password= this.refs.password.refs.tbpassword.value;\n        this.props.onUserLogin({username, password});\n    }\n    renderError=()=>{\n      if(this.props.loading == false){\n        if(this.props.error.length>0){\n          return <p className=\"alert alert-danger\">{this.props.error}</p>\n      }\n      }\n        \n    }\n    renderButton=()=>{\n        if(this.props.loading){\n            return <h3>Loading...</h3>\n        }\n        return <Button  onClick={this.onBtnLoginClick} type=\"submit\" class=\"form-submit\" >Log in</Button>\n\n    }\n    \n    render(){\n        if(this.props.username===''){\n        return(\n            <div className=\"main\">\n            <div className=\"container\">\n                <div className=\"row\">\n                <div className=\"col-md-6\">\n                \n                </div>\n                    <div className=\"col-md-6\">\n                    <h2 className=\"form-title\">Sign in</h2>\n                            <Form  className=\"register-form\" id=\"login-form\">\n                            <div className=\"form-group\">\n                                <label htmlFor=\"your_name\"></label>\n                                <Input type=\"text\" ref='username' innerRef='tbusername' placeholder='username' className=\"form-control\" id=\"usr\"/>\n                            </div>\n                            <div className=\"form-group\">\n                                <label htmlFor=\"your_pass\"></label>\n                                <Input type=\"password\" ref='password' innerRef='tbpassword' placeholder='your password' className=\"form-control\" id=\"pwd\"/>\n                            </div>\n                            <div className=\"form-group\">\n                                <Input type=\"checkbox\" name=\"remember-me\" id=\"remember-me\" className=\"agree-term\" />\n                                <label htmlFor=\"remember-me\" className=\"label-agree-term\"><span><span /></span>Remember me</label>\n                            </div>\n                            <div className=\"form-group form-button\">\n                                    {this.renderError()}\n                                \n                            </div>\n                            </Form>\n                            {this.renderButton()}\n                    </div>\n                </div>\n            </div>               \n              </div>\n        )\n    }\n    return <Redirect to=\"/homes\"/>\n  }\n}\nconst mapStateToProps =(state)=>{\n    return {\n        username: state.auth.username,\n        error: state.auth.error,\n        loading: state.auth.loading\n    \n    };\n}\nexport default connect(mapStateToProps,{onUserLogin})(Login);"]},"metadata":{},"sourceType":"module"}